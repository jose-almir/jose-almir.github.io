<!DOCTYPE html><html lang="pt-br"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Como criar um File Picker com React? | jose-almir</title><meta name="description" content="Todos nós conhecemos o clássico input file, sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da biblioteca padrão."/><meta name="keywords" content="react, frontend"/><meta name="author" content="José Almir"/><meta property="og:title" content="Como criar um File Picker com React? | jose-almir"/><meta property="og:description" content="Todos nós conhecemos o clássico input file, sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da biblioteca padrão."/><meta property="og:image" content="https://jose-almir.github.io/blog/file-picker.png"/><meta property="og:type" content="website"/><meta property="og:locale" content="pt_BR"/><meta property="og:site_name" content="jose-almir"/><meta name="twitter:title" content="Como criar um File Picker com React? | jose-almir"/><meta name="twitter:image" content="https://jose-almir.github.io/blog/file-picker.png"/><meta name="twitter:card" content="summary"/><meta name="twitter:description" content="Todos nós conhecemos o clássico input file, sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da biblioteca padrão."/><link rel="icon" type="image/png" href="/favicon.ico"/><link rel="apple-touch-icon" href="/favicon.ico"/><meta name="next-head-count" content="18"/><link data-next-font="" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/ace18451c787e34c.css" as="style"/><link rel="stylesheet" href="/_next/static/css/ace18451c787e34c.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-ee7e63bc15b31913.js" defer=""></script><script src="/_next/static/chunks/framework-73b8966a3c579ab0.js" defer=""></script><script src="/_next/static/chunks/main-287049dd63aeb276.js" defer=""></script><script src="/_next/static/chunks/pages/_app-7502776991873ef4.js" defer=""></script><script src="/_next/static/chunks/911-0f8617b32a65081c.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5Bid%5D-0c258e5dc95af769.js" defer=""></script><script src="/_next/static/SgcJ-o36mf8l2YVKRrqJX/_buildManifest.js" defer=""></script><script src="/_next/static/SgcJ-o36mf8l2YVKRrqJX/_ssgManifest.js" defer=""></script></head><body><div id="__next"><script>!function(){try{var d=document.documentElement,n='data-theme',s='setAttribute';var e=localStorage.getItem('theme');if(e){d[s](n,e|| '')}else{d[s](n,'dark');}if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'dark'}catch(t){}}();</script><main><div class="container blog"><div class="pt-md"><a class="back-btn" href="/blog"><i class="bi bi-arrow-left"></i> Voltar</a><div class="blog-post"><section class="intro">
<h1>Como criar um File Picker com React?</h1>
<i class="bi bi-clock-fill mr-xs"></i><span> 5 min · </span><i class="bi bi-calendar mr-xs"></i><span> 12 Mai, 2023</span>
</section>
<h2>Componente File Picker</h2>
<p>Todos nós conhecemos o clássico <code>&lt;input type=&quot;file&quot; /&gt;</code>, ele é um dos elementos HTML padrão, e sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da <strong>biblioteca padrão</strong>.</p>
<p>A implementação completa está disponível no <a href="https://stackblitz.com/edit/react-wuolto" target="_blank">Stackblitz</a>.</p>
<img src="/blog/screenshot-file-picker.png" class="image" alt="File Picker"/>
<h2>Estilização base</h2>
<p>No arquivo de <strong>estilização global</strong>, iremos aplicar os seguintes estilos:</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-css" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token" style="color:#a04900">body</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span><span>  </span><span class="token" style="color:#005a8e">font-family</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#116b00">&quot;Open Sans&quot;</span><span class="token" style="color:#111b27">,</span><span> </span><span class="token" style="color:#116b00">&quot;Helvetica Neue&quot;</span><span class="token" style="color:#111b27">,</span><span> sans-serif</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span><span>  </span><span class="token" style="color:#005a8e">box-sizing</span><span class="token" style="color:#111b27">:</span><span> border-box</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span>  </span><span class="token" style="color:#005a8e">margin</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">0</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span>  </span><span class="token" style="color:#005a8e">background-color</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token hexcode" style="color:#116b00">#151718</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span><span>  </span><span class="token" style="color:#005a8e">color</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#116b00">whitesmoke</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">8</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">9</span><span></span><span class="token" style="color:#7c00aa">.app-container</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">10</span><span>  </span><span class="token" style="color:#005a8e">display</span><span class="token" style="color:#111b27">:</span><span> flex</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">11</span><span>  </span><span class="token" style="color:#005a8e">align-items</span><span class="token" style="color:#111b27">:</span><span> center</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">12</span><span>  </span><span class="token" style="color:#005a8e">justify-content</span><span class="token" style="color:#111b27">:</span><span> center</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">13</span><span>  </span><span class="token" style="color:#005a8e">height</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">100</span><span class="token" style="color:#a04900">vh</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">14</span><span></span><span class="token" style="color:#111b27">}</span></code></div></pre>
<p>Até aqui apenas modificações visuais para deixar a página mais atrativa, a ideia é centralizar o componente na tela. Agora vamos criar a estilização para o nosso file picker, crie um arquivo: <strong>FilePicker.css</strong>.</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-css" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token" style="color:#a04900">@import</span><span class="token"> </span><span class="token url" style="color:#7c00aa">url</span><span class="token url" style="color:#111b27">(</span><span class="token url" style="color:#116b00">&quot;https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css&quot;</span><span class="token url" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span><span></span><span class="token" style="color:#7c00aa">.wrapper</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span>  </span><span class="token" style="color:#005a8e">display</span><span class="token" style="color:#111b27">:</span><span> flex</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span>  </span><span class="token" style="color:#005a8e">flex-direction</span><span class="token" style="color:#111b27">:</span><span> column</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">8</span><span></span><span class="token" style="color:#7c00aa">.button</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">9</span><span>  </span><span class="token" style="color:#005a8e">width</span><span class="token" style="color:#111b27">:</span><span> auto</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">10</span><span>  </span><span class="token" style="color:#005a8e">height</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">33</span><span class="token" style="color:#a04900">px</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">11</span><span>  </span><span class="token" style="color:#005a8e">font-size</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">16</span><span class="token" style="color:#a04900">px</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">12</span><span>  </span><span class="token" style="color:#005a8e">border</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">1</span><span class="token" style="color:#a04900">px</span><span> solid</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">13</span><span>  </span><span class="token" style="color:#005a8e">border-radius</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#755f00">8</span><span class="token" style="color:#a04900">px</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">14</span><span>  </span><span class="token" style="color:#005a8e">background-color</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#116b00">cornflowerblue</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">15</span><span>  </span><span class="token" style="color:#005a8e">color</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#116b00">whitesmoke</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">16</span><span>  </span><span class="token" style="color:#005a8e">cursor</span><span class="token" style="color:#111b27">:</span><span> pointer</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">17</span><span>  </span><span class="token" style="color:#005a8e">display</span><span class="token" style="color:#111b27">:</span><span> block</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">18</span><span></span><span class="token" style="color:#111b27">}</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">19</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">20</span><span></span><span class="token" style="color:#7c00aa">.small</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">21</span><span>  </span><span class="token" style="color:#005a8e">color</span><span class="token" style="color:#111b27">:</span><span> </span><span class="token" style="color:#7c00aa">rgba</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#116b00"> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#116b00"> </span><span class="token" style="color:#755f00">255</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#116b00"> </span><span class="token" style="color:#755f00">0.66</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">22</span><span></span><span class="token" style="color:#111b27">}</span></code></div></pre>
<p>A estilização principal se centra no botão e outros elementos visuais que farão parte do componente conforme a imagem mostrada anteriormente.</p>
<h2>Princípios do FilePicker</h2>
<p>Para que este componente funcione, alguns princípios devem ser levados em conta:</p>
<ul>
    <li>O único elemento nativo capaz de selecionar arquivos é o input file;</li>
    <li>O botão descrito na imagem anterior será responsável por acionar o explorador de arquivos do sistema;</li>
    <li>O componente deve indicar um feedback que o arquivo foi selecionado com sucesso.</li>
</ul>
<p>Primeiramente vejamos como montar a base do nosso componente:</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-jsx" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports maybe-class-name">React</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;react&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span><span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token" style="color:#116b00">&quot;./FilePicker.css&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">FilePicker</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#005a8e"> multiple</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> accept</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> onSelect </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span><span>    </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">wrapper</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">input</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">8</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">hidden</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">9</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">type</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">file</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">10</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">accept</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">accept</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">11</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">multiple</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">multiple</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">12</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">onChange</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#005a8e">e</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#7c00aa">onSelect</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">e</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">target</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">13</span><span class="token" style="color:#006d6d">      </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">14</span><span class="token plain-text">    </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">15</span><span>  </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">16</span><span></span><span class="token" style="color:#111b27">}</span></code></div></pre>
<p>Vamos entender parte por parte agora. Nosso componente irá envolver o <code>&lt;input type=&quot;file&quot; /&gt;</code>, de tal forma que para customizar as opções possíveis recebemos algumas props.</p>
<ul>
<li><code>multiple</code>: É um atributo comum neste tipo de input e permite a seleção múltipla de arquivos;</li>
<li><code>accept</code>: É um atributo comum que permite que apenas determinados tipos sejam selecionados;</li>
<li><code>onSelect</code>: É o nome da função que irá enviar os arquivos para o componente-pai que estiver utilizando o FilePicker, tal como um formulário.</li>
</ul>
<p>Observe na linha 9, é definido a seguinte arrow function: <code>(e) =&gt; onSelect(e.target.files)</code>. Toda vez que o input for alterado, a nossa callback <code>onSelect</code> será chamada passando os arquivos como parâmetro, para esta situação optei por utilizar o evento do input chamado de <code>onChange</code>. Porém, até este ponto nada aparece em nossa interface, pois por padrão ocultamos o input usando a propriedade <code>hidden</code>.</p>
<p>Para chamar este componente FilePicker, basta chamá-lo no <strong>App.js</strong> ou no local que desejar:</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-jsx" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#005a8e">FilePicker</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span><span class="token" style="color:#006d6d">  </span><span class="token" style="color:#755f00">accept</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">.csv, .xlsx</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span><span class="token" style="color:#006d6d">  </span><span class="token" style="color:#755f00">multiple</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span class="token" style="color:#006d6d">  </span><span class="token" style="color:#755f00">onSelect</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#005a8e">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span class="token script language-javascript" style="color:#006d6d">    </span><span class="token script language-javascript console" style="color:#006d6d">console</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript method" style="color:#006d6d">log</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span><span class="token script language-javascript" style="color:#006d6d">  </span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:1.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span><span class="token" style="color:#006d6d"></span><span class="token" style="color:#006d6d">/&gt;</span></code></div></pre>
<p>Para que um botão acione o input oculto e abra o explorador de arquivos do dispositivo, será necessário &quot;forçar&quot; o clique no input mesmo ele estando oculto.</p>
<h2>useRef</h2>
<p>O <code>useRef</code> é um hook padrão da biblioteca do React. A <a href="https://react.dev/reference/react/useRef" target="_blank">documentação oficial</a> define como &quot;um hook que permite referenciar um valor que não é necessário para renderização&quot;. Resumidamente, ele é um valor que será preservado durante as renderizações dos componentes funcionais, e sua alteração não força uma re-renderização como o useState, por exemplo.</p>
<p>Uma das finalidades deste hook, é guardar referência de elementos da DOM, dessa forma podemos ler as informações de qualquer elemento desde que ele possua uma referência.</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-jsx" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> useRef </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;react&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span><span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token" style="color:#116b00">&quot;./FilePicker.css&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">FilePicker</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#005a8e"> multiple</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> accept</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> onSelect </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span>  </span><span class="token" style="color:#a04900">const</span><span> inputRef </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useRef</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">8</span><span>    </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">wrapper</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">9</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">input</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">10</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">ref</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">inputRef</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">11</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">hidden</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">12</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">type</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">file</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">13</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">accept</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">accept</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">14</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">multiple</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">multiple</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">15</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">onChange</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#005a8e">e</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#7c00aa">onSelect</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">e</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">target</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">16</span><span class="token" style="color:#006d6d">      </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">17</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">p</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">Selecione um arquivo de tipo: </span><span class="token" style="color:#111b27">{</span><span>accept</span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">p</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">18</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">button</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">button</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">onClick</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> inputRef</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">current</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript method" style="color:#006d6d">click</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="token plain-text"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">19</span>        Selecionar
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">20</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">button</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">21</span><span class="token plain-text">    </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">22</span><span>  </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:2.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">23</span><span></span><span class="token" style="color:#111b27">}</span></code></div></pre>
<p>O código acima já funcione perfeitamente, porém vamos entender parte por parte do processo:</p>
<ul>
<li><strong>Linha 5:</strong> <code>const ref = useRef(null)</code>, esta linha determina uma referência no React, seu valor inicial é <code>null</code>;</li>
<li><strong>Linha 10:</strong> <code>ref={inputRef}</code>, esta linha determina que o input agora possui uma referência do elemento na DOM. Para acessar basta utilizar <code>inputRef.current</code>;</li>
<li><strong>Linha 18:</strong> <code>inputRef.current.click()</code>, ao clicarmos no botão invocamos um dos eventos de um input: <code>click</code>.</li>
</ul>
<p>Dessa forma, é possível selecionar os arquivos mesmo que o input verdadeiro não esteja aparecendo na tela, pois nosso <code>inputRef</code> possui informação da DOM a respeito deste elemento.</p>
<h2>Toques finais</h2>
<p>Com o FilePicker funcional, basta aplicar algumas melhorias visuais como um state para mostrar quantos arquivos foram selecionados e mudar a aparência do botão:</p>
<pre><div style="color:#111b27;background:#e3eaf2;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:0.5em 0;overflow:auto"><code class="language-jsx" style="color:#111b27;background:none;font-family:Consolas, Monaco, &quot;Andale Mono&quot;, &quot;Ubuntu Mono&quot;, monospace;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">1</span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token imports maybe-class-name">React</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> </span><span class="token imports" style="color:#111b27">{</span><span class="token imports"> useState</span><span class="token imports" style="color:#111b27">,</span><span class="token imports"> useRef </span><span class="token imports" style="color:#111b27">}</span><span> </span><span class="token module" style="color:#a04900">from</span><span> </span><span class="token" style="color:#116b00">&quot;react&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">2</span><span></span><span class="token module" style="color:#a04900">import</span><span> </span><span class="token" style="color:#116b00">&quot;./FilePicker.css&quot;</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">3</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">4</span><span></span><span class="token module" style="color:#a04900">export</span><span> </span><span class="token" style="color:#a04900">function</span><span> </span><span class="token maybe-class-name" style="color:#7c00aa">FilePicker</span><span class="token" style="color:#111b27">(</span><span class="token" style="color:#111b27">{</span><span class="token" style="color:#005a8e"> multiple</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> accept</span><span class="token" style="color:#111b27">,</span><span class="token" style="color:#005a8e"> onSelect </span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#111b27">{</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">5</span><span>  </span><span class="token" style="color:#a04900">const</span><span> </span><span class="token" style="color:#111b27">[</span><span>selected</span><span class="token" style="color:#111b27">,</span><span> setSelected</span><span class="token" style="color:#111b27">]</span><span> </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useState</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">6</span><span>  </span><span class="token" style="color:#a04900">const</span><span> inputRef </span><span class="token" style="color:#a04900">=</span><span> </span><span class="token" style="color:#7c00aa">useRef</span><span class="token" style="color:#111b27">(</span><span class="token null nil" style="color:#a04900">null</span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">7</span>
<span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">8</span><span>  </span><span class="token control-flow" style="color:#a04900">return</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">9</span><span>    </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">wrapper</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">10</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">input</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">11</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">ref</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">inputRef</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">12</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">hidden</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">13</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">type</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">file</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">14</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">accept</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">accept</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">15</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">multiple</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">multiple</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">16</span><span class="token" style="color:#006d6d">        </span><span class="token" style="color:#755f00">onChange</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#005a8e">e</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">17</span><span class="token script language-javascript" style="color:#006d6d">          </span><span class="token script language-javascript" style="color:#7c00aa">onSelect</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">e</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">target</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">18</span><span class="token script language-javascript" style="color:#006d6d">          </span><span class="token script language-javascript" style="color:#7c00aa">setSelected</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">e</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">target</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">files</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">19</span><span class="token script language-javascript" style="color:#006d6d">        </span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">20</span><span class="token" style="color:#006d6d">      </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">21</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">p</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">Selecione um arquivo de tipo: </span><span class="token" style="color:#111b27">{</span><span>accept</span><span class="token" style="color:#111b27">}</span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">p</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">22</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">button</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">button</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">onClick</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> inputRef</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">current</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript method" style="color:#006d6d">click</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">23</span><span class="token plain-text">        </span><span class="token" style="color:#111b27">{</span><span>selected </span><span class="token" style="color:#a04900">?</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">24</span><span>          </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">25</span><span class="token plain-text">            </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">i</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">bi bi-check2-circle</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text"> Selecionado
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">26</span><span class="token plain-text">          </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">27</span><span>        </span><span class="token" style="color:#111b27">)</span><span> </span><span class="token" style="color:#a04900">:</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">28</span><span>          </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">29</span><span class="token plain-text">            </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">i</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">bi bi-upload</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text"> Selecionar
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">30</span><span class="token plain-text">          </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">31</span><span>        </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">}</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">32</span><span class="token plain-text">      </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">button</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">33</span><span class="token plain-text">      </span><span class="token" style="color:#111b27">{</span><span>selected </span><span class="token" style="color:#a04900">&amp;&amp;</span><span> </span><span class="token" style="color:#111b27">(</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">34</span><span>        </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">small</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">small</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">35</span><span class="token plain-text">          </span><span class="token" style="color:#111b27">{</span><span>selected</span><span class="token" style="color:#111b27">.</span><span class="token" style="color:#005a8e">length</span><span class="token" style="color:#111b27">}</span><span class="token plain-text"> selecionado (s)
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">36</span><span class="token plain-text">          </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">span</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">37</span><span class="token" style="color:#006d6d">            </span><span class="token" style="color:#755f00">onClick</span><span class="token script language-javascript script-punctuation" style="color:#006d6d">=</span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript arrow" style="color:#006d6d">=&gt;</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#006d6d">{</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">38</span><span class="token script language-javascript" style="color:#006d6d">              inputRef</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">current</span><span class="token script language-javascript" style="color:#006d6d">.</span><span class="token script language-javascript" style="color:#005a8e">value</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#a04900">=</span><span class="token script language-javascript" style="color:#006d6d"> </span><span class="token script language-javascript" style="color:#116b00">&quot;&quot;</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">39</span><span class="token script language-javascript" style="color:#006d6d">              </span><span class="token script language-javascript" style="color:#7c00aa">setSelected</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript null nil" style="color:#a04900">null</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">40</span><span class="token script language-javascript" style="color:#006d6d">              </span><span class="token script language-javascript" style="color:#7c00aa">onSelect</span><span class="token script language-javascript" style="color:#006d6d">(</span><span class="token script language-javascript null nil" style="color:#a04900">null</span><span class="token script language-javascript" style="color:#006d6d">)</span><span class="token script language-javascript" style="color:#006d6d">;</span><span class="token script language-javascript" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">41</span><span class="token script language-javascript" style="color:#006d6d">            </span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token script language-javascript" style="color:#006d6d">}</span><span class="token" style="color:#006d6d">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">42</span><span class="token" style="color:#006d6d">          </span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">43</span><span class="token plain-text">            </span><span class="token" style="color:#006d6d">&lt;</span><span class="token" style="color:#006d6d">i</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#755f00">className</span><span class="token attr-equals" style="color:#006d6d">=</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#116b00">bi bi-x-circle</span><span class="token" style="color:#006d6d">&quot;</span><span class="token" style="color:#006d6d"> </span><span class="token" style="color:#006d6d">/&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">44</span><span class="token plain-text">          </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">span</span><span class="token" style="color:#006d6d">&gt;</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">45</span><span class="token plain-text">        </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">small</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">46</span><span>      </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">}</span><span class="token plain-text">
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">47</span><span class="token plain-text">    </span><span class="token" style="color:#006d6d">&lt;/</span><span class="token" style="color:#006d6d">div</span><span class="token" style="color:#006d6d">&gt;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">48</span><span>  </span><span class="token" style="color:#111b27">)</span><span class="token" style="color:#111b27">;</span><span>
</span><span class="linenumber react-syntax-highlighter-line-number" style="display:inline-block;min-width:3.25em;padding-right:1em;text-align:right;user-select:none;color:#3c526d">49</span><span></span><span class="token" style="color:#111b27">}</span></code></div></pre>
<p>As melhorias foram realizadas na <strong>linha 5</strong>, com um state para saber quando os arquivos foram selecionados ou não. Nas <strong>linhas 23-32</strong> mostramos um ícone e texto diferentes de acordo com o state. E na <strong>linha 33</strong> adicionamos um elemento básico para mostrar quantos arquivos foram selecionados, bem como a possibilidade de &quot;limpar&quot;. Para isso, na <strong>linha 37</strong>, o onClick reseta todos os valores, inclusive da callback <code>onSelect</code>.</p>
<img src="/blog/screenshot-file-picker-2.png" class="image" alt="File Picker"/></div></div><div><h4>Comentários</h4></div></div><hr class="hr"/><footer class="Footer_footer__Dhw_9"><div class="container"><div class="Footer_social-icons__QJPab"><a href="https://github.com/jose-almir/jose-almir.github.io" target="_blank"><i class="bi bi-github"></i></a><a href="/feed.xml" target="_blank" title="Inscrever no feed"><i class="bi bi-rss-fill"></i></a><a href="/sitemap.xml" target="_blank" title="Mapa do site"><i class="bi bi-diagram-3-fill"></i></a></div><p class="Footer_copyright__lw16R">© <!-- -->2025<!-- --> jose-almir. Todos os direitos reservados.</p></div></footer></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"id":"file-picker-react","title":"Como criar um File Picker com React?","date":"2023-05-12T00:00:00","thumbnail":"/blog/file-picker.png","desc":"Todos nós conhecemos o clássico input file, sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da biblioteca padrão.","tags":"react, frontend","categoria":"react","content":"\r\n\u003csection className=\"intro\"\u003e\r\n\u003ch1\u003eComo criar um File Picker com React?\u003c/h1\u003e\r\n\u003ci className=\"bi bi-clock-fill mr-xs\"\u003e\u003c/i\u003e\u003cspan\u003e 5 min · \u003c/span\u003e\u003ci className=\"bi bi-calendar mr-xs\"\u003e\u003c/i\u003e\u003cspan\u003e 12 Mai, 2023\u003c/span\u003e\r\n\u003c/section\u003e\r\n\r\n## Componente File Picker\r\n\r\nTodos nós conhecemos o clássico `\u003cinput type=\"file\" /\u003e`, ele é um dos elementos HTML padrão, e sua customização pode ser complicada caso queiramos uma estilização mais moderna. O componente que irei mostrar aqui pode ser facilmente aplicado ao seu projeto React, uma vez que só utiliza recursos da **biblioteca padrão**.\r\n\r\nA implementação completa está disponível no \u003ca href=\"https://stackblitz.com/edit/react-wuolto\" target=\"_blank\"\u003eStackblitz\u003c/a\u003e.\r\n\r\n\u003cimg src=\"/blog/screenshot-file-picker.png\" className=\"image\" alt=\"File Picker\"/\u003e\r\n\r\n## Estilização base\r\n\r\nNo arquivo de **estilização global**, iremos aplicar os seguintes estilos:\r\n\r\n```css\r\nbody {\r\n  font-family: \"Open Sans\", \"Helvetica Neue\", sans-serif;\r\n  box-sizing: border-box;\r\n  margin: 0;\r\n  background-color: #151718;\r\n  color: whitesmoke;\r\n}\r\n\r\n.app-container {\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  height: 100vh;\r\n}\r\n```\r\n\r\nAté aqui apenas modificações visuais para deixar a página mais atrativa, a ideia é centralizar o componente na tela. Agora vamos criar a estilização para o nosso file picker, crie um arquivo: **FilePicker.css**.\r\n\r\n```css\r\n@import url(\"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css\");\r\n\r\n.wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n.button {\r\n  width: auto;\r\n  height: 33px;\r\n  font-size: 16px;\r\n  border: 1px solid;\r\n  border-radius: 8px;\r\n  background-color: cornflowerblue;\r\n  color: whitesmoke;\r\n  cursor: pointer;\r\n  display: block;\r\n}\r\n\r\n.small {\r\n  color: rgba(255, 255, 255, 0.66);\r\n}\r\n```\r\n\r\nA estilização principal se centra no botão e outros elementos visuais que farão parte do componente conforme a imagem mostrada anteriormente.\r\n\r\n## Princípios do FilePicker\r\n\r\nPara que este componente funcione, alguns princípios devem ser levados em conta:\r\n\r\n\u003cul\u003e\r\n    \u003cli\u003eO único elemento nativo capaz de selecionar arquivos é o input file;\u003c/li\u003e\r\n    \u003cli\u003eO botão descrito na imagem anterior será responsável por acionar o explorador de arquivos do sistema;\u003c/li\u003e\r\n    \u003cli\u003eO componente deve indicar um feedback que o arquivo foi selecionado com sucesso.\u003c/li\u003e\r\n\u003c/ul\u003e\r\n\r\nPrimeiramente vejamos como montar a base do nosso componente:\r\n\r\n```jsx\r\nimport React from \"react\";\r\nimport \"./FilePicker.css\";\r\n\r\nexport function FilePicker({ multiple, accept, onSelect }) {\r\n  return (\r\n    \u003cdiv className=\"wrapper\"\u003e\r\n      \u003cinput\r\n        hidden\r\n        type=\"file\"\r\n        accept={accept}\r\n        multiple={multiple}\r\n        onChange={(e) =\u003e onSelect(e.target.files)}\r\n      /\u003e\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n```\r\n\r\nVamos entender parte por parte agora. Nosso componente irá envolver o `\u003cinput type=\"file\" /\u003e`, de tal forma que para customizar as opções possíveis recebemos algumas props.\r\n\r\n- `multiple`: É um atributo comum neste tipo de input e permite a seleção múltipla de arquivos;\r\n- `accept`: É um atributo comum que permite que apenas determinados tipos sejam selecionados;\r\n- `onSelect`: É o nome da função que irá enviar os arquivos para o componente-pai que estiver utilizando o FilePicker, tal como um formulário.\r\n\r\nObserve na linha 9, é definido a seguinte arrow function: `(e) =\u003e onSelect(e.target.files)`. Toda vez que o input for alterado, a nossa callback `onSelect` será chamada passando os arquivos como parâmetro, para esta situação optei por utilizar o evento do input chamado de `onChange`. Porém, até este ponto nada aparece em nossa interface, pois por padrão ocultamos o input usando a propriedade `hidden`.\r\n\r\nPara chamar este componente FilePicker, basta chamá-lo no **App.js** ou no local que desejar:\r\n\r\n```jsx\r\n\u003cFilePicker\r\n  accept=\".csv, .xlsx\"\r\n  multiple\r\n  onSelect={(files) =\u003e {\r\n    console.log(files);\r\n  }}\r\n/\u003e\r\n```\r\n\r\nPara que um botão acione o input oculto e abra o explorador de arquivos do dispositivo, será necessário \"forçar\" o clique no input mesmo ele estando oculto.\r\n\r\n## useRef\r\n\r\nO `useRef` é um hook padrão da biblioteca do React. A \u003ca href=\"https://react.dev/reference/react/useRef\" target=\"_blank\"\u003edocumentação oficial\u003c/a\u003e define como \"um hook que permite referenciar um valor que não é necessário para renderização\". Resumidamente, ele é um valor que será preservado durante as renderizações dos componentes funcionais, e sua alteração não força uma re-renderização como o useState, por exemplo.\r\n\r\nUma das finalidades deste hook, é guardar referência de elementos da DOM, dessa forma podemos ler as informações de qualquer elemento desde que ele possua uma referência.\r\n\r\n```jsx\r\nimport React, { useRef } from \"react\";\r\nimport \"./FilePicker.css\";\r\n\r\nexport function FilePicker({ multiple, accept, onSelect }) {\r\n  const inputRef = useRef(null);\r\n\r\n  return (\r\n    \u003cdiv className=\"wrapper\"\u003e\r\n      \u003cinput\r\n        ref={inputRef}\r\n        hidden\r\n        type=\"file\"\r\n        accept={accept}\r\n        multiple={multiple}\r\n        onChange={(e) =\u003e onSelect(e.target.files)}\r\n      /\u003e\r\n      \u003cp\u003eSelecione um arquivo de tipo: {accept}\u003c/p\u003e\r\n      \u003cbutton className=\"button\" onClick={() =\u003e inputRef.current.click()}\u003e\r\n        Selecionar\r\n      \u003c/button\u003e\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n```\r\n\r\nO código acima já funcione perfeitamente, porém vamos entender parte por parte do processo:\r\n\r\n- **Linha 5:** `const ref = useRef(null)`, esta linha determina uma referência no React, seu valor inicial é `null`;\r\n- **Linha 10:** `ref={inputRef}`, esta linha determina que o input agora possui uma referência do elemento na DOM. Para acessar basta utilizar `inputRef.current`;\r\n- **Linha 18:** `inputRef.current.click()`, ao clicarmos no botão invocamos um dos eventos de um input: `click`.\r\n\r\nDessa forma, é possível selecionar os arquivos mesmo que o input verdadeiro não esteja aparecendo na tela, pois nosso `inputRef` possui informação da DOM a respeito deste elemento.\r\n\r\n## Toques finais\r\n\r\nCom o FilePicker funcional, basta aplicar algumas melhorias visuais como um state para mostrar quantos arquivos foram selecionados e mudar a aparência do botão:\r\n\r\n```jsx\r\nimport React, { useState, useRef } from \"react\";\r\nimport \"./FilePicker.css\";\r\n\r\nexport function FilePicker({ multiple, accept, onSelect }) {\r\n  const [selected, setSelected] = useState(null);\r\n  const inputRef = useRef(null);\r\n\r\n  return (\r\n    \u003cdiv className=\"wrapper\"\u003e\r\n      \u003cinput\r\n        ref={inputRef}\r\n        hidden\r\n        type=\"file\"\r\n        accept={accept}\r\n        multiple={multiple}\r\n        onChange={(e) =\u003e {\r\n          onSelect(e.target.files);\r\n          setSelected(e.target.files);\r\n        }}\r\n      /\u003e\r\n      \u003cp\u003eSelecione um arquivo de tipo: {accept}\u003c/p\u003e\r\n      \u003cbutton className=\"button\" onClick={() =\u003e inputRef.current.click()}\u003e\r\n        {selected ? (\r\n          \u003c\u003e\r\n            \u003ci className=\"bi bi-check2-circle\" /\u003e Selecionado\r\n          \u003c/\u003e\r\n        ) : (\r\n          \u003c\u003e\r\n            \u003ci className=\"bi bi-upload\" /\u003e Selecionar\r\n          \u003c/\u003e\r\n        )}\r\n      \u003c/button\u003e\r\n      {selected \u0026\u0026 (\r\n        \u003csmall className=\"small\"\u003e\r\n          {selected.length} selecionado (s)\r\n          \u003cspan\r\n            onClick={() =\u003e {\r\n              inputRef.current.value = \"\";\r\n              setSelected(null);\r\n              onSelect(null);\r\n            }}\r\n          \u003e\r\n            \u003ci className=\"bi bi-x-circle\" /\u003e\r\n          \u003c/span\u003e\r\n        \u003c/small\u003e\r\n      )}\r\n    \u003c/div\u003e\r\n  );\r\n}\r\n```\r\n\r\nAs melhorias foram realizadas na **linha 5**, com um state para saber quando os arquivos foram selecionados ou não. Nas **linhas 23-32** mostramos um ícone e texto diferentes de acordo com o state. E na **linha 33** adicionamos um elemento básico para mostrar quantos arquivos foram selecionados, bem como a possibilidade de \"limpar\". Para isso, na **linha 37**, o onClick reseta todos os valores, inclusive da callback `onSelect`.\r\n\r\n\u003cimg src=\"/blog/screenshot-file-picker-2.png\" className=\"image\" alt=\"File Picker\"/\u003e\r\n"}},"__N_SSG":true},"page":"/blog/[id]","query":{"id":"file-picker-react"},"buildId":"SgcJ-o36mf8l2YVKRrqJX","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>